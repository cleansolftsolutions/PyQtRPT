
Instructions build:(tested in opensuse, python 3.4, PySide 1.2.2, Qt 4.8.6, qtRPTProject 1.5.4)

download qtRPTProject 1.5.4 and copy 	
  CommonFiles
	QtRPT
	zint-2.4.4
	
final dir:
PyQtRPTDir/
  |-data/
  |	|-global.h
  |	|-typesystem.xml
  |-hybrid/
  |	|-hybrid.pro
  |-hybridpy/
  |	|-hybridpy.pro
  |-package/
  |	|-example1.py
  | |-example1.xml -> examples QtRPT
  |-CommonFiles/
  |-QtRPT/
  |-zint-2.4.4/
  |-build.sh
	

<<<<<<<<<<<<<<<
changue lines 41 y 42 the Zint.pro in /zint-2.4.4/backend_qt4
ej:
DLLDESTDIR = $${DEST_DIRECTORY}
DESTDIR    = $${DEST_DIRECTORY}/lib
to
DLLDESTDIR = ../../hybrid
DESTDIR    = ../../hybrid
<<<<<<<<<<<<<

in QtRPT/rptsql.h add:
#include <QImage>

<<<<<<<<<<<
in QtRPT/qtrpt.h comment:
line 93:
  //void setBackgroundImage(QPixmap image);

in QtRPT/qtrpt.cpp comment:
line 1728:
//void QtRPT::setBackgroundImage(QPixmap image) {
//    m_backgroundImage = &image;
//}

<<<<<<<<<<<<<<<<
<<<<<<<<<<<
in QtRPT/qtrpt.h
add in public:
    void setTableMap(QVariantList &vlist, QVariant &mappo);
    void setActivedSignal(bool &bm);
add in private:
    QVariantList m_vlist;
    QVariantMap m_mapOne;
    bool m_boolActiveSignal;
replace in signal setValue:
result:
    void setValue(const int recNo, const QString paramName, QObject &paramValueO, const int reportPage);
    ------
in QtRPT/qtrpt.cpp:
add:
  void QtRPT::setTableMap(QVariantList &vlist, QVariant &mappo){
    m_vlist = vlist;
    m_mapOne = mappo.toMap();
  }

  void QtRPT::setActivedSignal(bool &bm)
  {
      if(bm!=m_boolActiveSignal){
	  m_boolActiveSignal = bm;
      }
  }
  
in QtRPT/qtrpt.cpp:
add in QtRPT::QtRPT(QObject *parent): (line 173)
    m_boolActiveSignal=true;
    
in QtRPT/qtrpt.cpp:
replace and add in QString QtRPT::sectionValue(QString paramName):
result:
    QObject paramValueO;
    QVariant paramValue;

    paramName.replace("[","");
    paramName.replace("]","");
    //callbackFunc(recNo, paramName, paramValue);
    //if (paramValue.isNull())

    //if (!listOfGroup.isEmpty()) //group processing
    //    m_recNo = mg_recNo;

    if(m_boolActiveSignal){
        emit setValue(m_recNo, paramName, paramValueO, m_pageReport);
        return paramValueO.objectName();// temporary solution pyside
    }else{
        if(m_mapOne.contains(paramName)){
            paramValue = m_mapOne.value(paramName);
        }else{
            if(m_vlist.length()-1 >= m_recNo){
                if(m_vlist.at(m_recNo).toMap().contains(paramName)){
                    paramValue = m_vlist.at(m_recNo).toMap().value(paramName);
                }
            }
        }
        return paramValue.toString();
    }
    
in QtRPT/qtrpt.cpp:
replace and add in QString QtRPT::sectionValueImage(QString paramName):
result:
    QImage paramValue;
    paramName.replace("[","");
    paramName.replace("]","");

    if(m_boolActiveSignal){
        emit setValueImage(m_recNo, paramName, paramValue, m_pageReport);
        return paramValue;
    }else{
        if(m_mapOne.contains(paramName)){
            paramValue.load(m_mapOne.value(paramName).toString());
        }else{
            if(m_vlist.length()-1 >= m_recNo){
                if(m_vlist.at(m_recNo).toMap().contains(paramName)){
                    paramValue.load(m_vlist.at(m_recNo).toMap().value(paramName).toString());
                }
            }
        }
        return paramValue;
    }
<<<<<<<<<<<<
<<<<<<<<<<<<<<<
in CommonFiles/Barcode.cpp changue:
line 11:
  QLibrary library("QtZint");
  to
  QLibrary library("../hybrid/libQtZint.so");
  
<<<<<<<<<<<<<<<<<<
in CommonFiles/CommonFiles_QtRpt.pri changue:
line 9:
LIBS += -L$${DEST_DIRECTORY}/lib -lQtZint
to
LIBS += ../hybrid/libQtZint.so

<<<<<<<<<<<<<<
config build.sh

QTGUI_INC=/usr/lib/qt4/include/QtGui
QTCORE_INC=/usr/lib/qt4/include/QtCore
QTTYPESYSTEM=/usr/lib/python3.4/site-packages/PySide/typesystems

<<<<<<<<<<<<<<
config hybridpy.pro

INCLUDEPATH +=  /usr/lib/python3.4/site-packages/PySide/include/PySide
INCLUDEPATH +=  /usr/lib/python3.4/site-packages/PySide/include/PySide/QtCore
INCLUDEPATH +=  /usr/lib/python3.4/site-packages/PySide/include/PySide/QtGui
INCLUDEPATH +=  /usr/lib/python3.4/site-packages/PySide/include/shiboken
INCLUDEPATH +=  /usr/include/python3.4m
	

LIBS += /usr/lib/libpython3.4m.so.1.0 \
    /usr/lib/python3.4/site-packages/PySide/libshiboken.cpython-34m.so.1.2 \
    /usr/lib/python3.4/site-packages/PySide/libpyside.cpython-34m.so.1.2 \
<<<<<<<<<<<<<

build:
sh build.sh
-create 2 lib in package: PyQtRPT.so and libQtZint
<<<<<<<<<<<<<<<
install libQtZint in /usr/lib:
ej: sudo cp -f hybrid/libQtZint.so.1.0.0 /usr/lib/libQtZint.so.1

<<<<<<<<<<<<<<<<
-copy dir QtRptDemo/examples to package
example:
python3 example1.py

<<<<<<<<<<<<<<<<
links:
http://www.qtrpt.tk/
http://lynxline.com/superhybrids-part-2-now-qt-pyside/
